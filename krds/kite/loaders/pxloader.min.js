//Lazyload.js
(function(e,t){function n(){}n.prototype.env=null;n.prototype.head=null;n.prototype.doc=t;n.prototype.pending={};n.prototype.pollCount=0;n.prototype.queue={css:[],js:[]},n.prototype.styleSheets=t.styleSheets;n.prototype.createNode=function(e,t){var n=this.doc.createElement(e),r;for(r in t){if(t.hasOwnProperty(r))n.setAttribute(r,t[r])}return n};n.prototype.finish=function(t){var n=this.pending[t],r,i;if(n){r=n.callback;i=n.urls;i.shift();this.pollCount=0;if(!i.length){r&&r.call(n.context,n.obj);this.pending[t]=null;this.queue[t].length&&this.load(t)}}};n.prototype.getEnv=function(){var e=navigator.userAgent;this.env={async:this.doc.createElement("script").async===true};(this.env.webkit=/AppleWebKit\//.test(e))||(this.env.ie=/MSIE|Trident/.test(e))||(this.env.opera=/Opera/.test(e))||(this.env.gecko=/Gecko\//.test(e))||(this.env.unknown=true)};n.prototype.load=function(e,t,n,r,i,s){var o=this;var u=function(){o.finish(e)},a=e==="css",f=[],l,c,h,p,d,v;this.env||this.getEnv();if(t){t=typeof t==="string"?[t]:t.concat();if(a||this.env.async||this.env.gecko||this.env.opera){this.queue[e].push({urls:t,callback:n,obj:r,context:i,mapping:s})}else{for(l=0,c=t.length;l<c;++l){this.queue[e].push({urls:[t[l]],callback:l===c-1?n:null,obj:r,context:i,mapping:s})}}}if(this.pending[e]||!(p=this.pending[e]=this.queue[e].shift())){return}this.head||(this.head=this.doc.head||this.doc.getElementsByTagName("head")[0]);d=p.urls.concat();for(l=0,c=d.length;l<c;++l){v=d[l];if(a){h=this.env.gecko?this.createNode("style",{id:"__css_"+p.mapping[v]}):this.createNode("link",{href:v,rel:"stylesheet",id:"__css_"+p.mapping[v]})}else{h=this.createNode("script",{src:v});h.async=false}h.className="lazyload";h.setAttribute("charset","utf-8");if(this.env.ie&&!a&&"onreadystatechange"in h&&!("draggable"in h)){h.onreadystatechange=function(){if(/loaded|complete/.test(h.readyState)){h.onreadystatechange=null;u()}}}else if(a&&(this.env.gecko||this.env.webkit)){if(this.env.webkit){p.urls[l]=h.href;this.pollWebKit()}else{h.innerHTML='@import "'+v+'";';this.pollGecko(h)}}else{h.onload=h.onerror=u}f.push(h)}for(l=0,c=f.length;l<c;++l){this.head.appendChild(f[l])}};n.prototype.pollGecko=function(e){var t;var n=this;try{t=!!e.sheet.cssRules}catch(r){this.pollCount+=1;if(this.pollCount<200){setTimeout(function(){n.pollGecko(e)},50)}else{t&&this.finish("css")}return}this.finish("css")};n.prototype.pollWebKit=function(){var e=this.pending.css,t;var n=this;if(e){t=this.styleSheets.length;while(--t>=0){if(this.styleSheets[t].href===e.urls[0]){this.finish("css");break}}this.pollCount+=1;if(e){if(this.pollCount<200)setTimeout(function(){n.pollWebKit()},50);else{this.finish("css")}}}};n.prototype.css=function(e,t,n,r){var i={};var s=[];for(var o=0;o<e.length;o++){s.push(e[o].url);i[e[o].url]=e[o].id.match(/([a-z0-9]+)/gi).join("_")}this.load("css",s,t,n,r,i)};n.prototype.js=function(e,t,n,r){this.load("js",e,t,n,r)};e.CssLoader=n})(window,this.document);

//Pxloader.js and plugins
(function(e){function t(e){e=e||{};this.settings=e;if(e.statusInterval==null){e.statusInterval=5e3}if(e.loggingDelay==null){e.loggingDelay=20*1e3}if(e.noProgressTimeout==null){e.noProgressTimeout=Infinity}var t=[],r=[],i,s=Date.now();var o={QUEUED:0,WAITING:1,LOADED:2,ERROR:3,TIMEOUT:4};var u=function(e){if(e==null){return[]}if(Array.isArray(e)){return e}return[e]};this.add=function(e){e.tags=new n(e.tags);if(e.priority==null){e.priority=Infinity}t.push({resource:e,status:o.QUEUED})};this.addProgressListener=function(e,t){r.push({callback:e,tags:new n(t)})};this.addCompletionListener=function(e,t){r.push({tags:new n(t),callback:function(t){if(t.completedCount===t.totalCount){e(t)}}})};var a=function(e){e=u(e);var t=function(t){var n=t.resource,r=Infinity;for(var i=0;i<n.tags.length;i++){for(var s=0;s<Math.min(e.length,r);s++){if(n.tags.all[i]===e[s]&&s<r){r=s;if(r===0){break}}if(r===0){break}}}return r};return function(e,n){var r=t(e),i=t(n);if(r<i){return-1}if(r>i){return 1}if(e.priority<n.priority){return-1}if(e.priority>n.priority){return 1}return 0}};this.start=function(e){i=Date.now();var n=a(e);t.sort(n);for(var r=0,s=t.length;r<s;r++){var u=t[r];u.status=o.WAITING;u.resource.start(this)}setTimeout(f,100)};var f=function(){var n=false,r=Date.now()-s,i=r>=e.noProgressTimeout,u=r>=e.loggingDelay;for(var a=0,l=t.length;a<l;a++){var c=t[a];if(c.status!==o.WAITING){continue}if(c.resource.checkStatus){c.resource.checkStatus()}if(c.status===o.WAITING){if(i){c.resource.onTimeout()}else{n=true}}}if(u&&n){h()}if(n){setTimeout(f,e.statusInterval)}};this.isBusy=function(){for(var e=0,n=t.length;e<n;e++){if(t[e].status===o.QUEUED||t[e].status===o.WAITING){return true}}return false};var l=function(e,n){var i=null,u,a,f,l,h;for(u=0,a=t.length;u<a;u++){if(t[u].resource===e){i=t[u];break}}if(i==null||i.status!==o.WAITING){return}i.status=n;s=Date.now();f=e.tags.length;for(u=0,a=r.length;u<a;u++){l=r[u];if(l.tags.length===0){h=true}else{h=e.tags.intersects(l.tags)}if(h){c(i,l)}}};this.onLoad=function(e){l(e,o.LOADED)};this.onError=function(e){l(e,o.ERROR)};this.onTimeout=function(e){l(e,o.TIMEOUT)};var c=function(e,n){var r=0,i=0,s,u,a,f;for(s=0,u=t.length;s<u;s++){a=t[s];f=false;if(n.tags.length===0){f=true}else{f=a.resource.tags.intersects(n.tags)}if(f){i++;if(a.status===o.LOADED||a.status===o.ERROR||a.status===o.TIMEOUT){r++}}}n.callback({resource:e.resource,loaded:e.status===o.LOADED,error:e.status===o.ERROR,timeout:e.status===o.TIMEOUT,completedCount:r,totalCount:i})};var h=this.log=function(e){if(!window.console){return}var n=Math.round((Date.now()-i)/1e3);window.console.log("PxLoader elapsed: "+n+" sec");for(var r=0,s=t.length;r<s;r++){var u=t[r];if(!e&&u.status!==o.WAITING){continue}var a="PxLoader: #"+r+" "+u.resource.getName();switch(u.status){case o.QUEUED:a+=" (Not Started)";break;case o.WAITING:a+=" (Waiting)";break;case o.LOADED:a+=" (Loaded)";break;case o.ERROR:a+=" (Error)";break;case o.TIMEOUT:a+=" (Timeout)";break}if(u.resource.tags.length>0){a+=" Tags: ["+u.resource.tags.all.join(",")+"]"}window.console.log(a)}}}function n(e){this.all=[];this.first=null;this.length=0;this.lookup={};if(e){if(Array.isArray(e)){this.all=e.slice(0)}else if(typeof e==="object"){for(var t in e){if(e.hasOwnProperty(t)){this.all.push(t)}}}else{this.all.push(e)}this.length=this.all.length;if(this.length>0){this.first=this.all[0]}for(var n=0;n<this.length;n++){this.lookup[this.all[n]]=true}}}n.prototype.intersects=function(e){if(this.length===0||e.length===0){return false}if(this.length===1&&e.length===1){return this.first===e.first}if(e.length<this.length){return e.intersects(this)}for(var t in this.lookup){if(e.lookup[t]){return true}}return false};if(typeof define==="function"&&define.amd){define("PxLoader",[],function(){return t})}e.PxLoader=t})(this);if(!Date.now){Date.now=function(){return(new Date).getTime()}}if(!Array.isArray){Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}

try
{
	//Font.js when supported
	(function(e){function t(){this.fontFamily="fjs"+(999999*Math.random()|0)}if(!Object.defineProperty){throw"Font.js requires Object.defineProperty, which this browser does not support."}if(!document.createElement("canvas").getContext){throw"Font.js requires <canvas> and the Canvas2D API, which this browser does not support."}(function(e){function r(e,t){return this.slice(e,t)}function i(e,t){var n,r=e.length;if(arguments.length<2){t=0}for(n=0;n<r;++n,++t){this[t]=e[n]&255}}function s(e){var t,n;if(typeof e==="number"){t=new Array(e);for(n=0;n<e;++n){t[n]=0}}else{t=e.slice(0)}t.subarray=r;t.buffer=t;t.byteLength=t.length;t.set=i;if(typeof e==="object"&&e.buffer){t.buffer=e.buffer}return t}try{var t=new Uint8Array(1);return}catch(n){}e.Uint8Array=s;e.Uint32Array=s;e.Int32Array=s})(e);(function(e){if(e.opera)return;if("response"in XMLHttpRequest.prototype||"mozResponseArrayBuffer"in XMLHttpRequest.prototype||"mozResponse"in XMLHttpRequest.prototype||"responseArrayBuffer"in XMLHttpRequest.prototype){return}var t;if(e.VBArray){t=function(){return new Uint8Array((new VBArray(this.responseBody)).toArray())}}else{t=function(){this.responseBody}}Object.defineProperty(XMLHttpRequest.prototype,"response",{get:t})})(e);if(!e.btoa){e.btoa=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var n,r,i,s,o,u,a,f,l=0,c=0,h="",p=[];if(!e){return e}do{n=e.charCodeAt(l++);r=e.charCodeAt(l++);i=e.charCodeAt(l++);f=n<<16|r<<8|i;s=f>>18&63;o=f>>12&63;u=f>>6&63;a=f&63;p[c++]=t.charAt(s)+t.charAt(o)+t.charAt(u)+t.charAt(a)}while(l<e.length);h=p.join("");var d=e.length%3;return(d?h.slice(0,d-3):h)+"===".slice(d||3)}}t.prototype.url="";t.prototype.format="";t.prototype.data="";t.prototype.base64="AAEAAAAKAIAAAwAgT1MvMgAAAAAAAACsAAAAWGNtYXAA"+"AAAAAAABBAAAACxnbHlmAAAAAAAAATAAAAAQaGVhZAAAA"+"AAAAAFAAAAAOGhoZWEAAAAAAAABeAAAACRobXR4AAAAAA"+"AAAZwAAAAIbG9jYQAAAAAAAAGkAAAACG1heHAAAAAAAAA"+"BrAAAACBuYW1lAAAAAAAAAcwAAAAgcG9zdAAAAAAAAAHs"+"AAAAEAAEAAEAZAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAABAAMAAQA"+"AAAwABAAgAAAABAAEAAEAAABB//8AAABB////wAABAAAA"+"AAABAAAAAAAAAAAAAAAAMQAAAQAAAAAAAAAAAABfDzz1A"+"AAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAEAAg"+"AAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAQAAAAAAAAAAAAAAAAAIAAAAAQAAAAIAAQAB"+"AAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAIAHgADAAEEC"+"QABAAAAAAADAAEECQACAAIAAAAAAAEAAAAAAAAAAAAAAA"+"AAAA==";t.prototype.metrics={quadsize:0,leading:0,ascent:0,descent:0,weightclass:400};t.prototype.systemfont=false;t.prototype.loaded=false;t.prototype.onload=function(){};t.prototype.onerror=function(){};t.prototype.canvas=false;t.prototype.context=false;t.prototype.validate=function(e,t,n,r,i){if(i!==false&&i<0){this.onerror("Requested system font '"+this.fontFamily+"' could not be loaded (it may not be installed).");return}var s=document.defaultView.getComputedStyle(e,"");var o=s.getPropertyValue("width").replace("px","");if(o>0){document.head.removeChild(t);document.body.removeChild(e);this.loaded=true;this.onload()}else{setTimeout(function(){r.validate(e,t,n,r,i===false?false:i-50)},50)}};t.prototype.ondownloaded=function(){var e=this;var t=function(e){return String.fromCharCode(e)};var n=function(e){if(e<256){return t(0)+t(e)}var n=e>>8;var r=e&255;return t(n)+t(r)};var r=function(e){if(e<0){e=4294967295+e+1}return parseInt(e,10).toString(16)};var i=function(e,t){return 256*e+t};var s=function(e,t){var n=e>>7===1,r;e=e&127;r=256*e+t;if(!n){return r}return r-32768};var o=function(e,t,n,r){return 16777216*e+65536*t+256*n+r};var u=function(t){e.onerror(t)};var a=t(0)+t(1)+t(0)+t(0);var f="OTTO";var l=this.data;var c=t(l[0])+t(l[1])+t(l[2])+t(l[3]);var h=c===a;var p=h?false:c===f;if(h){this.format="truetype"}else if(p){this.format="opentype"}else{u("Error: file at "+this.url+" cannot be interpreted as OpenType font.");return}var d=i(l[4],l[5]),v=12,m,g=v+16*d,y={},b;for(m=v;m<g;m+=16){b=t(l[m])+t(l[m+1])+t(l[m+2])+t(l[m+3]);y[b]={name:b,checksum:o(l[m+4],l[m+5],l[m+6],l[m+7]),offset:o(l[m+8],l[m+9],l[m+10],l[m+11]),length:o(l[m+12],l[m+13],l[m+14],l[m+15])}}var w=function(e){if(!y[e]){u("Error: font is missing the required OpenType '"+e+"' table.");return false}return e};b=w("head");if(b===false){return}m=y[b].offset;y[b].version=""+l[m]+l[m+1]+l[m+2]+l[m+3];var E=i(l[m+18],l[m+19]);this.metrics.quadsize=E;b=w("hhea");if(b===false){return}m=y[b].offset;y[b].version=""+l[m]+l[m+1]+l[m+2]+l[m+3];this.metrics.ascent=s(l[m+4],l[m+5])/E;this.metrics.descent=s(l[m+6],l[m+7])/E;this.metrics.leading=s(l[m+8],l[m+9])/E;b=w("OS/2");if(b===false){return}m=y[b].offset;y[b].version=""+l[m]+l[m+1];this.metrics.weightclass=i(l[m+4],l[m+5]);b=w("cmap");if(b===false){return}m=y[b].offset;y[b].version=""+l[m]+l[m+1];d=i(l[m+2],l[m+3]);var S,x,T,N,C,k=false;for(var S=0;S<d;S++){x=m+4+S*8;T=i(l[x],l[x+1]);N=i(l[x+2],l[x+3]);C=o(l[x+4],l[x+5],l[x+6],l[x+7]);if(T===3&&N===1){k=C}}var L="A";if(k!==false){m+=k;c=i(l[m],l[m+1]);if(c===4){var A=i(l[m+6],l[m+7])/2;var O=function(e){return[9,10,11,12,13,32,133,160,5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288].indexOf(e)===-1};var M=m+14,_=m+14+2*A,D=false;for(;M<_;M+=2){D=i(l[M],l[M+1]);if(O(D)){break}D=false}if(D!==false){L=String.fromCharCode(D);var P=-(D-1)+65536;var H=btoa(t(0)+n(D)+n(65535)+n(0)+n(D)+n(65535)+n(P)+n(1));this.base64=this.base64.substring(0,380)+H+this.base64.substring(380+H.length)}}}this.bootstrapValidation(L,false)};t.prototype.bootstrapValidation=function(e,t){var n=this.fontFamily+" testfont";var r=document.createElement("style");r.setAttribute("type","text/css");r.innerHTML="@font-face {\n"+"  font-family: '"+n+"';\n"+"  src: url('data:application/x-font-ttf;base64,"+this.base64+"')\n"+"       format('truetype');}";document.head.appendChild(r);var i=false;if(!this.systemfont){i=this.toStyleNode();document.head.appendChild(i)}var s=document.createElement("p");s.style.cssText="position: absolute; top: 0; left: 0; opacity: 0;";s.style.fontFamily="'"+this.fontFamily+"', '"+n+"'";s.innerHTML=e+e+e+e+e+e+e+e+e+e;document.body.appendChild(s);if(!document.defaultView.getComputedStyle){this.onload();error("Error: document.defaultView.getComputedStyle is not supported by this browser.\n"+"Consequently, Font.onload() cannot be trusted.")}else{var o=this.systemfont?1e3:this.metrics.quadsize;var u=document.createElement("canvas");u.width=o;u.height=o;this.canvas=u;var a=u.getContext("2d");a.font="1em '"+this.fontFamily+"'";a.fillStyle="white";a.fillRect(-1,-1,o+2,o+2);a.fillStyle="black";a.fillText("test text",50,o/2);this.context=a;var f=this;var l=function(){f.validate(s,r,i,f,t)};setTimeout(l,50)}};t.prototype.processSystemFont=function(){this.systemfont=true;this.metrics=false;this.bootstrapValidation("A",1e3)};t.prototype.loadFont=function(){var e=this;if(this.url.indexOf(".")===-1){setTimeout(function(){e.processSystemFont()},10);return}var t=new XMLHttpRequest;t.open("GET",e.url,true);t.responseType="arraybuffer";t.onload=function(n){var r=t.response;if(r){e.data=new Uint8Array(r);e.ondownloaded()}else{e.onerror("Error downloading font resource from "+e.url)}};t.send(null)};t.prototype.styleNode=false;t.prototype.toStyleNode=function(){if(this.styleNode){return this.styleNode}this.styleNode=document.createElement("style");this.styleNode.type="text/css";var e="@font-face {\n";e+="  font-family: '"+this.fontFamily+"';\n";e+="  src: url('"+this.url+"') format('"+this.format+"');\n";e+="}";this.styleNode.innerHTML=e;return this.styleNode};t.prototype.measureText=function(e,t){if(!this.loaded){error("measureText() was called while the font was not yet loaded");return false}this.context.font=t+"px '"+this.fontFamily+"'";var n=this.context.measureText(e);n.fontsize=t;n.ascent=0;n.descent=0;n.bounds={minx:0,maxx:n.width,miny:0,maxy:0};n.height=0;var r=[],i=n.width/this.metrics.quadsize;if(i<=1){r.push(e)}else{r.push(e)}var s=r.length,o;for(o=0;o<s;o++){this.measureSegment(r[o],t,n)}return n};t.prototype.measureSegment=function(e,t,n){var r=function(e,t){return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)};var i;var s=document.createElement("div");s.style.position="absolute";s.style.opacity=0;s.style.font=t+"px '"+this.fontFamily+"'";var o=10;s.innerHTML=e;for(i=1;i<o;i++){s.innerHTML+="<br/>"+e}document.body.appendChild(s);n.leading=1.2*t;var u=r(s,"height");u=u.replace("px","");if(u>=t*o){n.leading=u/o|0}document.body.removeChild(s);if(/^\s*$/.test(e)){return n}var a=this.canvas,f=this.context,l=this.systemfont?1e3:this.metrics.quadsize,c=l,h=l,p=l/2,d=50,v=(l-n.width)/2;if(v!==(v|0)){v=v|0}f.fillStyle="white";f.fillRect(-d,-d,c+2*d,h+2*d);f.fillStyle="black";f.fillText(e,v,p);var m=n.width+d|0,g=4*t,y=v-d/2,b=p-g/2,w=f.getImageData(y,b,m,g).data;var i=0,E=0,S=m*4,x=w.length,T=g/2;while(++i<x&&w[i]===255){}var N=i/S|0;i=x-1;while(--i>0&&w[i]===255){}var C=i/S|0;for(i=0,E=0;E<m&&w[i]===255;){i+=S;if(i>=x){E++;i=i-x+4}}var k=E;var L=1;for(i=x-3,E=0;E<m&&w[i]===255;){i-=S;if(i<0){E++;i=x-3-L++*4}}var A=m-E;n.ascent=T-N;n.descent=C-T;n.bounds={minx:k-d/2,maxx:A-d/2,miny:-n.descent,maxy:n.ascent};n.height=1+(C-N);return n};Object.defineProperty(t.prototype,"src",{set:function(e){this.url=e;this.loadFont()}});e.Font=t})(window)
	function PxLoaderFont(e,t,n,r){var i=this,s=null;this.tags=n;this.priority=r;this.font=new Font;this.font.fontFamily=e;this.font.onload=function(){o();s.onLoad(i)};this.font.onerror=function(){o();s.onError(i)};var o=function(){i.font.onload=null;i.font.onerror=null};this.start=function(n){s=n;i.font.src=t||e};this.onTimeout=function(){o()};this.getName=function(){return t}}PxLoader.prototype.addFont=function(e,t,n,r){var i=new PxLoaderFont(e,t,n,r);this.add(i);return i.font}
}
catch(e){}

function PxLoaderImage(e,t,n){var r=this,i=null;this.img=new Image;this.tags=t;this.priority=n;var s=function(){if(r.img.readyState==="complete"){a();i.onLoad(r)}};var o=function(){a();i.onLoad(r)};var u=function(){a();i.onError(r)};var a=function(){r.unbind("load",o);r.unbind("readystatechange",s);r.unbind("error",u)};this.start=function(t){i=t;r.bind("load",o);r.bind("readystatechange",s);r.bind("error",u);r.img.src=e};this.checkStatus=function(){if(r.img.complete){a();i.onLoad(r)}};this.onTimeout=function(){a();if(r.img.complete){i.onLoad(r)}else{i.onTimeout(r)}};this.getName=function(){return e};this.bind=function(e,t){if(r.img.addEventListener){r.img.addEventListener(e,t,false)}else if(r.img.attachEvent){r.img.attachEvent("on"+e,t)}};this.unbind=function(e,t){if(r.img.removeEventListener){r.img.removeEventListener(e,t,false)}else if(r.img.detachEvent){r.img.detachEvent("on"+e,t)}}}PxLoader.prototype.addImage=function(e,t,n){var r=new PxLoaderImage(e,t,n);this.add(r);return r.img};if(typeof define==="function"&&define.amd){define("PxLoaderImage",[],function(){return PxLoaderImage})}
function PxLoaderCss(e,t,n){var r=this,i=null;this.tags=t;this.priority=n;this.lazyLoad=new CssLoader;var s=function(){i.onLoad(r)};this.start=function(t){i=t;r.lazyLoad.css(e,s)};this.onTimeout=function(){if(!r.lazyLoad.pending)i.onLoad(r);else i.onTimeout(r)};this.getName=function(){return e}}PxLoader.prototype.addCss=function(e,t,n){var r=new PxLoaderCss(e,t,n);this.add(r);return r.lazyLoad}